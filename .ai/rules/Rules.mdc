---
description: Main rules index - READ THIS FIRST
alwaysApply: true
---

# Project Rules Index

## CRITICAL: Rule Usage Order
1. Check this index for overview
2. Navigate to specific rule category
3. Cross-reference related rules
4. Use development tools as needed

## Technology Stack

### Versions (EXACT - Use for tool queries)
- **php**: 8.4.11
- **laravel/framework**: v12
- **inertiajs/inertia-laravel**: v2
- **@inertiajs/vue3**: v2
- **vue**: v3
- **tailwindcss**: v4
- **pestphp/pest**: v3
- **laravel/pint**: v1
- **larastan/larastan**: v3

### Architecture
- **Backend**: Laravel 12 with Waymaker routing
- **Frontend**: Vue 3 + Inertia.js v2 SPA
- **Styling**: Tailwind CSS v4
- **Testing**: Pest v3
- **Analysis**: Larastan level 9

## Rule Categories

### Backend (`./backend/`)
| File | Purpose | Key Rules |
|------|---------|-----------|
| General.mdc | PHP & Laravel core | PHP 8.4, Laravel 12 structure, conventions |
| Controllers.mdc | Controller patterns | Resourceful methods, Inertia rendering |
| Routes.mdc | Waymaker routing | NO manual routes, use attributes |
| FormRequests.mdc | Validation | ALWAYS use with DTOs, never inline |
| Models.mdc | Eloquent models | Final classes, factories, relationships |
| Database.mdc | Migrations | Schema design, seeders |
| DTOs.mdc | Data Transfer | Spatie Laravel Data patterns |
| Enums.mdc | Database enums | String-backed, TitleCase keys |
| Middleware.mdc | Middleware | Registration, patterns |
| Testing.mdc | Pest tests | REQUIRED for all features |

### Frontend (`./frontend/`)
| File | Purpose | Key Rules |
|------|---------|-----------|
| Vue.mdc | Vue 3 patterns | Composition API, TypeScript |
| Inertia.mdc | Inertia.js v2 | Navigation, forms, deferred props |
| TypeScript.mdc | Type safety | Interfaces, props, strict mode |
| LiftoffUI.mdc | UI library | @hardimpactdev/liftoff-vue components |
| Tailwind.mdc | CSS styling | v4 syntax, NO deprecated utilities |
| AutoImports.mdc | Auto-imports | DON'T manually import listed items |
| Routing.mdc | Frontend routes | Use Controllers object |
| Forms.mdc | Form handling | DTOs from backend |

### Development Tools (`./development/`)
| File | Purpose | Key Tools |
|------|----------|-----------|
| laravel-boost.mdc | MCP server | search-docs, tinker, database tools |
| herd.mdc | Local server | Site management, PHP versions |
| pint.mdc | Code format | Run before commits |

## Critical Rules (MEMORIZE)

### NEVER DO
- ❌ Edit web.php manually (use Waymaker)
- ❌ Inline validation (use FormRequest)
- ❌ Hardcode URLs (use Controllers object)
- ❌ Skip tests (Pest required)
- ❌ Use Options API (Composition only)
- ❌ Create custom layouts (use AppLayout)
- ❌ Use deprecated Tailwind utilities

### ALWAYS DO
- ✅ Check existing components first
- ✅ Use Laravel Boost search-docs
- ✅ Run composer analyse
- ✅ Run vendor/bin/pint --dirty
- ✅ Use FormRequest with DTOs
- ✅ Write Pest tests
- ✅ Follow sibling file patterns

## Quick Reference

### Commands
```bash
php artisan waymaker:generate  # After controller changes
composer analyse               # Static analysis
php artisan test              # Run tests
vendor/bin/pint --dirty       # Format code
npm run build                 # Build frontend
```

### Laravel Boost Tools
- `application-info` - Run at chat start
- `search-docs` - Use before implementing
- `get-absolute-url` - For sharing URLs
- `list-artisan-commands` - Check options

## Cross-References

### When working on:
- **Controllers** → Check Routes.mdc, FormRequests.mdc, Inertia.mdc
- **Models** → Check Database.mdc, DTOs.mdc, Testing.mdc
- **Vue components** → Check Inertia.mdc, TypeScript.mdc, LiftoffUI.mdc
- **Forms** → Check FormRequests.mdc, DTOs.mdc, Forms.mdc
- **Tests** → Check Testing.mdc, run existing tests first

## Priority Override
1. User explicit instruction (current session)
2. Project CLAUDE.md files
3. These .ai/rules
4. Framework defaults

## File Patterns
- Controllers: PascalCase, plural for resources
- Models: PascalCase, singular
- Vue: PascalCase components in Pages/
- DTOs: suffix with Data
- Enums: TitleCase keys
- Tests: describe feature being tested