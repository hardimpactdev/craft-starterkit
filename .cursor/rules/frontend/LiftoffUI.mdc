---
description: liftoff-vue component library usage guidelines
globs: ['**/resources/js/**/*.vue', '**/resources/js/**/*.ts']
alwaysApply: false
---

## liftoff-vue Component Library Usage

### Understanding the Component Architecture

- **AppLayout is opinionated** - It comes with a built-in sidebar, header, and navigation structure. Don't fight it by creating custom sidebars.
- Check if a layout component already exists before building custom layouts.
- The package provides both high-level composed components (AppLayout) and low-level primitives (Button, Card, etc.).

### Navigation is Backend-Driven

- Navigation items should be configured in `HandleInertiaRequests` middleware, not in individual Vue components.
- The expected structure is:

```php
'navigation' => [
    'app' => [
        'main' => [
            'items' => [
                ['title' => 'Name', 'href' => '/path', 'icon' => 'IconName', 'isActive' => bool, 'badge' => optional]
            ]
        ],
        'footer' => [
            'items' => [...]
        ]
    ]
]
```

### Use the MCP Server When Available

- Always check if there's an MCP server for the UI library to explore components.
- Use tools like `list_components`, `search_components`, `get_component_details`.
- Don't assume component APIs - verify prop names and usage.

### Follow the Import Pattern

- Import all components from the main package:

```javascript
import {
    AppLayout,
    Button,
    Card,
    CardContent,
    CardHeader,
    Tabs,
    TabsList,
    TabsTrigger,
    TabsContent,
    // ... other components
} from '@hardimpactdev/liftoff-vue';
```

### Component Composition

- liftoff-vue components are designed to work together.
- Use composed components like Card with CardHeader, CardContent.
- Sidebar components must be used together: SidebarProvider > Sidebar > SidebarInset.

### Styling Conventions

- Use the `cn()` utility for conditional classes.
- Respect the design system's variants (default, destructive, outline, secondary, ghost).
- Don't override component styles unless absolutely necessary.

### Common Gotchas to Avoid

- **Don't wrap AppLayout in another layout** - It's already complete.
- **Icons are PascalCase** - 'Home' not 'home' in navigation config.
- **Check for v-model syntax** - Some components use `:default-value` with `@update:model-value`.
- **Include all required peer components** - TabsList needs TabsTrigger, etc.

### Authentication Data

- AppLayout expects `auth.user` in props.
- Add dummy user data in development to avoid errors:

```php
'auth' => [
    'user' => [
        'id' => 1,
        'name' => 'User Name',
        'email' => 'user@example.com',
    ]
]
```

### Best Practices

- Start with AppLayout for standard pages.
- Only create custom layouts for special cases (like auth pages).
- Use the provided components before creating custom ones.
- Keep navigation logic in the backend, not in Vue components.
- Test with the dev server running to catch runtime errors early.

### Debugging Tips

- Build the app (`npm run build`) to catch TypeScript/import errors.
- Check the browser console for missing props or component errors.
- Verify the component exists in the package before importing.
- Use proper TypeScript interfaces for props.
